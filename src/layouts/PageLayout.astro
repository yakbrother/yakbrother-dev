---
import Layout from "./Layout.astro";
import Breadcrumbs from "../components/Breadcrumbs.astro";
import type { CollectionEntry } from "astro:content";

interface Props {
  title: string;
  description?: string;
  image?: string;
}

const { title, description, image } = Astro.props;
const pathname = new URL(Astro.request.url).pathname;
const path = pathname.split('/').filter(segment => segment !== '');
---

<Layout title={title} description={description} image={image}>
  <article class="page-content flow" role="article">
    {path.length > 0 && <Breadcrumbs path={path} />}
    {title && <h1 class="high-contrast">{title}</h1>}
    {title && <hr/>}
    <slot />
  </article>
</Layout>